{"name": "test_api_requests[case0]", "status": "broken", "statusDetails": {"message": "TypeError: assert_compare() missing 2 required positional arguments: 'compare' and 'actual'", "trace": "self = <test_drugService.TestUserAPI object at 0x0000026ECE0E64A0>\ncase = {'expect': {'chainSellId': 149315428, 'field_assertions': {'code': 200, 'data.total': 15}, 'schema': ['code', 'data', ...teGoryId': 0, 'chainId': 26138, 'click': 0, 'groupByNameAndSpec': False, ...}, 'headers': None, 'method': 'POST', ...}}\n\n      @allure.story(\"验证模糊查询\")\n      @pytest.mark.parametrize(\"case\", pytest.api_test_data)\n      def test_api_requests(self, case):\n          logger.info(f\"执行用例 %s \"% case['name'])\n          # 发送请求并获取响应\n          response = client.post(\n          endpoint = case[\"request\"][\"url\"],\n          data = case[\"request\"][\"headers\"],\n          json = case[\"request\"][\"body\"]\n          )\n          response_data = response.json()\n          # 第一层：基础HTTP验证\n          # assert response.status_code == case['expect']['status_code']\n          assert response.status_code == 200\n          # # 第二层：JSON Schema验证\n          # response_data = response.json()\n          # validate(instance=response_data, schema=RESPONSE_SCHEMA)\n          # 第三层：关键字断言\n          if 'response_contains' in case['expect']:\n              assert case['expect']['response_contains'] in response_data\n    # 第三层：业务逻辑验证\n          if case[\"name\"] == \"药品搜索-正常流测试\":\n              for item in response_data[\"result\"]:\n>                 assert_compare (item[\"chainSellId\"] == case['expect']['chainSellId'])\nE                 TypeError: assert_compare() missing 2 required positional arguments: 'compare' and 'actual'\n\ntestcase\\test_drugService.py:58: TypeError"}, "steps": [{"name": "发送POST请求", "status": "passed", "parameters": [{"name": "endpoint", "value": "'https://171.cdfortis.com/drugService/pharm/searchDrug'"}, {"name": "data", "value": "None"}, {"name": "json", "value": "{'cateGoryId': 0, 'chainId': 26138, 'click': 0, 'groupByNameAndSpec': False, 'page': 1, 'rows': 10, 'spec': None, 'storeId': 0, 'text': '特非那定片', 'type': 0}"}], "start": 1748011179097, "stop": 1748011179458}], "attachments": [{"name": "log", "source": "9c8a87eb-7ef4-4620-86b2-fc029bd7386c-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'name': '药品搜索-正常流测试', 'request': {'url': 'https://171.cdfortis.com/drugService/pharm/searchDrug', 'method': 'POST', 'body': {'cateGoryId': 0, 'chainId': 26138, 'click': 0, 'groupByNameAndSpec': False, 'page': 1, 'rows': 10, 'spec': None, 'storeId': 0, 'text': '特非那定片', 'type': 0}, 'headers': None, 'Content-Type': 'application/json; charset=utf-8'}, 'expect': {'status_code': 200, 'schema': ['code', 'data', 'message'], 'chainSellId': 149315428, 'spec': '60毫克*12片', 'field_assertions': {'code': 200, 'data.total': 15}}}"}], "start": 1748011179097, "stop": 1748011179459, "uuid": "e5644c33-2255-4503-a104-3b34d2666806", "historyId": "94223e097b14f2fa062ad13762a47650", "testCaseId": "dfde9be1d5b1e97477dcb218433e535e", "fullName": "testcase.test_drugService.TestUserAPI#test_api_requests", "labels": [{"name": "story", "value": "验证模糊查询"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_drugService"}, {"name": "subSuite", "value": "TestUserAPI"}, {"name": "host", "value": "DESKTOP-SSNPUQJ"}, {"name": "thread", "value": "4512-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_drugService"}]}