{"name": "test_api_requests[case0]", "status": "failed", "statusDetails": {"message": "AssertionError: assert False\n +  where False = any(<generator object TestUserAPI.test_api_requests.<locals>.<genexpr> at 0x000002558EC5A500>)", "trace": "self = <test_drugService.TestUserAPI object at 0x000002558EC68FA0>\ncase = {'expect': {'chainSellId': 149315428, 'field_assertions': {'code': 200, 'data.total': 15}, 'schema': ['code', 'data', ...teGoryId': 0, 'chainId': 26138, 'click': 0, 'groupByNameAndSpec': False, ...}, 'headers': None, 'method': 'POST', ...}}\n\n    @allure.story(\"验证模糊查询\")\n    @pytest.mark.parametrize(\"case\", pytest.api_test_data)\n    def test_api_requests(self, case):\n        logger.info(f\"执行用例 %s \"% case['name'])\n        # 发送请求并获取响应\n        response = client.post(\n        endpoint = case[\"request\"][\"url\"],\n        data = case[\"request\"][\"headers\"],\n        json = case[\"request\"][\"body\"]\n        )\n        response_data = response.json()\n        # 第一层：基础HTTP验证\n        # assert response.status_code == case['expect']['status_code']\n        assert response.status_code == 200\n        # # 第二层：JSON Schema验证\n        # response_data = response.json()\n        # validate(instance=response_data, schema=RESPONSE_SCHEMA)\n        # 第三层：关键字断言\n        if 'response_contains' in case['expect']:\n            assert case['expect']['response_contains'] in response_data\n        if case[\"name\"] == \"药品搜索-正常流测试\":\n>           assert any(\n                item[\"commonName\"] == \"特非那定片\"\n                and \"60毫克\" in item[\"spec\"]\n                for item in response_data[\"result\"])\nE           assert False\nE            +  where False = any(<generator object TestUserAPI.test_api_requests.<locals>.<genexpr> at 0x000002558EC5A500>)\n\ntestcase\\test_drugService.py:56: AssertionError"}, "steps": [{"name": "发送POST请求", "status": "passed", "parameters": [{"name": "endpoint", "value": "'https://test.cdfortis.com:1113/drugService/pharm/searchDrug'"}, {"name": "data", "value": "None"}, {"name": "json", "value": "{'cateGoryId': 0, 'chainId': 26138, 'click': 0, 'groupByNameAndSpec': False, 'page': 1, 'rows': 10, 'spec': None, 'storeId': 0, 'text': '特非那定片', 'type': 0}"}], "start": 1749910084937, "stop": 1749910085246}], "attachments": [{"name": "log", "source": "9bc53ff9-1df0-43a5-831e-63f9503603eb-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'name': '药品搜索-正常流测试', 'request': {'url': 'https://test.cdfortis.com:1113/drugService/pharm/searchDrug', 'method': 'POST', 'body': {'cateGoryId': 0, 'chainId': 26138, 'click': 0, 'groupByNameAndSpec': False, 'page': 1, 'rows': 10, 'spec': None, 'storeId': 0, 'text': '特非那定片', 'type': 0}, 'headers': None, 'Content-Type': 'application/json; charset=utf-8'}, 'expect': {'status_code': 200, 'schema': ['code', 'data', 'message'], 'chainSellId': 149315428, 'spec': '60毫克*12片', 'field_assertions': {'code': 200, 'data.total': 15}}}"}], "start": 1749910084937, "stop": 1749910085246, "uuid": "b2b305c9-9a1b-4232-b311-b91962436c49", "historyId": "92b59f5f4c256658cb296fb5fe4afdbc", "testCaseId": "dfde9be1d5b1e97477dcb218433e535e", "fullName": "testcase.test_drugService.TestUserAPI#test_api_requests", "labels": [{"name": "story", "value": "验证模糊查询"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_drugService"}, {"name": "subSuite", "value": "TestUserAPI"}, {"name": "host", "value": "DESKTOP-SSNPUQJ"}, {"name": "thread", "value": "1508-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_drugService"}]}